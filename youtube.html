<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multi Video Speed Player</title>

<style>
body{
    background:#0f172a;
    color:#fff;
    font-family:Arial, sans-serif;
    padding:20px;
}

.box{
    background:#020617;
    padding:20px;
    border-radius:16px;
    max-width:1200px;
    margin:auto;
}

h2{
    text-align:center;
    color:#ef4444;
}

.controls{
    display:flex;
    justify-content:center;
    gap:10px;
    flex-wrap:wrap;
}

input, button{
    padding:10px;
    border-radius:8px;
    border:none;
}

#url{ width:40%; }
#count{ width:70px; text-align:center; }
#speed{ width:90px; }

button{
    background:#ef4444;
    color:white;
    cursor:pointer;
}

.screens{
    margin-top:20px;
    display:grid;
    grid-template-columns:repeat(4, 1fr);
    gap:10px;
}

.screen{
    background:black;
    aspect-ratio:16/9;
    border-radius:10px;
    overflow:hidden;
}

iframe, video{
    width:100%;
    height:100%;
    object-fit:cover;
}
</style>
</head>

<body>

<div class="box">
<h2>Multi Speed Auto Player</h2>

<div class="controls">
    <input id="url" placeholder="YouTube URL (max 2√ó)">
    <input type="file" id="file" accept="video/*">
    <input id="speed" type="number" value="30">
    <input id="count" type="number" value="12" min="1" max="40">
    <button onclick="play()">PLAY</button>
</div>

<div class="screens" id="screens"></div>
</div>

<script>
function getYouTubeEmbed(url){
    let id="";
    if(url.includes("shorts/")) id=url.split("shorts/")[1].split("?")[0];
    else if(url.includes("watch?v=")) id=url.split("v=")[1].split("&")[0];
    else if(url.includes("youtu.be/")) id=url.split("youtu.be/")[1].split("?")[0];

    if(!id) return null;

    return "https://www.youtube.com/embed/" + id +
    "?autoplay=1&mute=1&playsinline=1";
}

function play(){
    const url=document.getElementById("url").value.trim();
    const file=document.getElementById("file").files[0];
    const speed=parseFloat(document.getElementById("speed").value);
    const count=parseInt(document.getElementById("count").value);
    const box=document.getElementById("screens");

    box.innerHTML="";

    // üé• LOCAL VIDEO ‚Üí 30√ó SPEED
    if(file){
        const src=URL.createObjectURL(file);
        for(let i=0;i<count;i++){
            const d=document.createElement("div");
            d.className="screen";
            d.innerHTML=`
                <video autoplay muted loop playsinline>
                    <source src="${src}">
                </video>`;
            box.appendChild(d);
        }
        setTimeout(()=>{
            document.querySelectorAll("video")
            .forEach(v=>v.playbackRate=speed);
        },200);
    }

    // üì∫ YOUTUBE ‚Üí MAX 2√ó ONLY
    else if(url){
        const embed=getYouTubeEmbed(url);
        if(!embed){ alert("Invalid YouTube URL"); return; }

        for(let i=0;i<count;i++){
            const d=document.createElement("div");
            d.className="screen";
            d.innerHTML=`<iframe src="${embed}" allow="autoplay"></iframe>`;
            box.appendChild(d);
        }

        alert("‚ö†Ô∏è YouTube speed is limited to 2√ó max");
    }
    else{
        alert("Add YouTube link or video file");
    }
}
</script>

</body>
</html>
