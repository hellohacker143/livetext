<!DOCTYPE html>
<html>
<head>
<title>Multi Video Auto Player</title>

<style>
body{
    background:#0f172a;
    color:#fff;
    font-family:Arial, sans-serif;
    padding:20px;
}

.box{
    background:#020617;
    padding:20px;
    border-radius:16px;
    max-width:1200px;
    margin:auto;
    box-shadow:0 0 30px rgba(0,0,0,0.6);
}

h2{
    text-align:center;
    color:#ef4444;
    margin-bottom:20px;
}

.controls{
    display:flex;
    justify-content:center;
    gap:10px;
    flex-wrap:wrap;
}

input, button{
    padding:10px;
    font-size:15px;
    border-radius:8px;
    border:none;
}

#url{ width:45%; }
#count{ width:70px; text-align:center; }

button{
    background:#ef4444;
    color:#fff;
    cursor:pointer;
}
button:hover{ background:#dc2626; }

/* GRID */
.screens{
    margin-top:25px;
    display:grid;
    grid-template-columns:repeat(4, 1fr);
    gap:10px;
}

.screen{
    background:#000;
    aspect-ratio:16/9;
    border-radius:10px;
    overflow:hidden;
    border:1px solid #1e293b;
}

iframe, video{
    width:100%;
    height:100%;
    object-fit:cover;
}
</style>
</head>

<body>

<div class="box">
    <h2>Multi YouTube / Video Auto-Play</h2>

    <div class="controls">
        <input type="text" id="url" placeholder="Paste YouTube / Shorts URL">
        <input type="file" id="file" accept="video/*">
        <input type="number" id="count" value="12" min="1" max="40">
        <button onclick="createScreens()">AUTO PLAY</button>
    </div>

    <div class="screens" id="screens"></div>
</div>

<script>
function convertURL(url){
    if(url.includes("shorts")){
        return url.replace("shorts/","embed/") + "?autoplay=1&mute=1&playsinline=1&loop=1";
    }
    if(url.includes("watch?v=")){
        const id = url.split("v=")[1].split("&")[0];
        return "https://www.youtube.com/embed/" + id + "?autoplay=1&mute=1&playsinline=1&loop=1";
    }
    return null;
}

function createScreens(){
    const link = document.getElementById("url").value.trim();
    const file = document.getElementById("file").files[0];
    const count = parseInt(document.getElementById("count").value);
    const container = document.getElementById("screens");

    if(!link && !file){
        alert("Add YouTube link OR select a video file!");
        return;
    }

    container.innerHTML = "";

    if(file){
        const videoURL = URL.createObjectURL(file);

        for(let i=0;i<count;i++){
            const div = document.createElement("div");
            div.className = "screen";
            div.innerHTML = `
                <video autoplay muted loop playsinline>
                    <source src="${videoURL}">
                </video>
            `;
            container.appendChild(div);
        }
    } 
    else {
        const embedURL = convertURL(link);

        for(let i=0;i<count;i++){
            const div = document.createElement("div");
            div.className="screen";
            div.innerHTML = `
                <iframe 
                    src="${embedURL}" 
                    allow="autoplay; encrypted-media"
                    allowfullscreen>
                </iframe>
            `;
            container.appendChild(div);
        }
    }
}
</script>

</body>
</html>
